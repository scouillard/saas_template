<div class="max-w-7xl mx-auto px-4 py-8">
  <%= render "shared/settings_nav" %>

  <div class="bg-base-100 border border-base-300 rounded-2xl p-6">
      <div class="pb-5 border-b border-base-300 mb-6">
        <div class="flex items-center gap-3">
          <%= link_to profile_path, class: "flex items-center justify-center w-8 h-8 rounded-lg bg-base-200 text-base-500 hover:bg-base-300 transition-colors cursor-pointer" do %>
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1.5">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" />
            </svg>
          <% end %>
          <h2 class="text-xl font-semibold text-base-content">Change Password</h2>
        </div>
      </div>

      <%= form_with model: current_user, url: update_password_profile_path, method: :patch, class: "space-y-4 max-w-md" do |f| %>
        <% if current_user.errors.any? %>
          <div class="bg-base-200 border border-error rounded-2xl p-4">
            <div class="flex items-start gap-3">
              <svg class="w-5 h-5 text-error shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1.5">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z" />
              </svg>
              <div>
                <p class="text-sm font-medium text-error">Please fix the following errors:</p>
                <ul class="mt-2 text-sm text-error space-y-1">
                  <% current_user.errors.full_messages.each do |message| %>
                    <li><%= message %></li>
                  <% end %>
                </ul>
              </div>
            </div>
          </div>
        <% end %>

        <div>
          <%= f.label :current_password, class: "block text-sm font-medium text-base-600 mb-1.5" %>
          <%= f.password_field :current_password,
              required: true,
              class: "w-full px-4 py-2.5 text-sm rounded-full border border-base-300 bg-base-100 text-base-content placeholder:text-base-400 focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-colors",
              placeholder: "Enter current password" %>
        </div>

        <div>
          <%= f.label :password, "New Password", class: "block text-sm font-medium text-base-600 mb-1.5" %>
          <%= f.password_field :password,
              required: true,
              class: "w-full px-4 py-2.5 text-sm rounded-full border border-base-300 bg-base-100 text-base-content placeholder:text-base-400 focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-colors",
              placeholder: "Enter new password" %>
        </div>

        <div>
          <%= f.label :password_confirmation, "Confirm New Password", class: "block text-sm font-medium text-base-600 mb-1.5" %>
          <%= f.password_field :password_confirmation,
              required: true,
              class: "w-full px-4 py-2.5 text-sm rounded-full border border-base-300 bg-base-100 text-base-content placeholder:text-base-400 focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-colors",
              placeholder: "Confirm new password" %>
        </div>

        <div class="flex gap-3 pt-4">
          <%= link_to "Cancel", profile_path,
              class: "flex-1 px-4 py-2.5 text-base font-semibold rounded-full text-center text-base-500 hover:text-base-content hover:bg-base-200 transition-all cursor-pointer" %>
          <%= f.submit "Update Password",
              class: "flex-1 px-4 py-2.5 text-base font-semibold rounded-full bg-primary text-primary-content border-2 border-primary hover:brightness-90 transition-all cursor-pointer" %>
        </div>
      <% end %>
  </div>
</div>

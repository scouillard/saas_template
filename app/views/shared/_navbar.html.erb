<nav class="bg-base-100 border-b border-base-300" data-controller="burger">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center h-16">
      <div class="flex items-center">
        <%= link_to root_path, class: "flex items-center" do %>
          <%= image_tag "logo.svg", alt: "Logo", class: "h-8 w-auto text-primary" %>
        <% end %>
      </div>

      <!-- Desktop navigation -->
      <div class="hidden md:flex items-center gap-2">
        <% if user_signed_in? %>
          <%= render "shared/notification_bell" %>

          <div class="dropdown dropdown-end" style="z-index: 1000;">
            <label tabindex="0" class="flex items-center justify-center w-9 h-9 rounded-full bg-base-200 text-base-content cursor-pointer hover:bg-base-300 transition-colors">
              <span class="text-sm font-semibold"><%= current_user.email[0].upcase %></span>
            </label>
            <ul tabindex="0" class="dropdown-content menu p-2 mt-2 bg-base-100 border border-base-300 rounded-xl w-52 shadow-lg">
              <li><%= link_to "Profile", profile_path, class: "rounded-lg" %></li>
              <li><%= link_to "Team", team_path, class: "rounded-lg" %></li>
              <li><%= link_to "Settings", settings_path, class: "rounded-lg" %></li>
              <li><%= link_to "Plan", plan_path, class: "rounded-lg" %></li>
              <li class="border-t border-base-300 mt-1 pt-1">
                <%= button_to destroy_user_session_path, method: :delete, class: "w-full text-left text-error rounded-lg" do %>
                  Log out
                <% end %>
              </li>
            </ul>
          </div>
        <% else %>
          <%= link_to "Pricing", pricing_path, class: "mr-4 text-sm font-semibold text-base-content hover:text-primary transition-colors" %>
          <%= link_to "Log in", new_user_session_path, class: "btn btn-sm rounded-full bg-transparent text-primary border-2 border-base-300 hover:border-base-400 hover:bg-transparent" %>
          <%= link_to "Sign up", new_user_registration_path, class: "btn btn-primary btn-sm rounded-full" %>
        <% end %>
      </div>

      <!-- Burger button (mobile) -->
      <button class="burger md:hidden" data-burger-target="burger" data-action="burger#toggle" aria-label="Menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </div>

  <!-- Mobile menu backdrop -->
  <div class="burger-backdrop" data-burger-target="backdrop" data-action="click->burger#close"></div>

  <!-- Mobile menu -->
  <div class="burger-menu" data-burger-target="menu">
    <div class="flex flex-col p-4 gap-1">
      <% if user_signed_in? %>
        <%= link_to "Profile", profile_path, class: "w-full px-4 py-3 text-base rounded-xl hover:bg-base-200 transition-colors" %>
        <%= link_to "Team", team_path, class: "w-full px-4 py-3 text-base rounded-xl hover:bg-base-200 transition-colors" %>
        <%= link_to "Settings", settings_path, class: "w-full px-4 py-3 text-base rounded-xl hover:bg-base-200 transition-colors" %>
        <%= link_to "Plan", plan_path, class: "w-full px-4 py-3 text-base rounded-xl hover:bg-base-200 transition-colors" %>
        <div class="border-t border-base-300 mt-2 pt-2">
          <%= button_to destroy_user_session_path, method: :delete, class: "w-full px-4 py-3 text-base text-left text-error rounded-xl hover:bg-base-200 transition-colors" do %>
            Log out
          <% end %>
        </div>
      <% else %>
        <%= link_to "Pricing", pricing_path, class: "w-full px-4 py-3 text-base rounded-xl hover:bg-base-200 transition-colors" %>
        <%= link_to "Log in", new_user_session_path, class: "w-full px-4 py-3 text-base rounded-xl hover:bg-base-200 transition-colors" %>
        <%= link_to "Sign up", new_user_registration_path, class: "w-full px-4 py-3 text-base rounded-xl text-primary font-semibold hover:bg-base-200 transition-colors" %>
      <% end %>
    </div>
  </div>
</nav>
